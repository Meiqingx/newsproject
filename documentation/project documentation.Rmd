---
title: "Predicting Commodities Prices: A Data-Mining Approach"
author: "Rodrigo Valdés Ortiz, Meiqing Zhang, & Erin M. Ochoa"

date: "2017 March 14"
output:
  html_document:
    toc: true
---

# Description
192 independent variables

Python modules are designed to run on Python 3.4+; shell scripts are designed to run on GNU bash 3.2+.

# Package installation before using the software
```{}
pip3 install bs4
pip3 install lxml
pip3 install numpy
pip3 install urllib
pip3 install pandas
pip3 install pylatex
pip3 install sklearn
pip3 install requests
pip3 install dateutil
pip3 install html2text
pip3 install matplotlib
pip3 install statsmodels

sudo apt-get install texlive-latex-base
sudo apt-get install texlive-latex-extra
sudo apt-get install texlive-fonts-recommended
```

# Data crawlers and scrapers

## World Bank data
This module downloads data from the World Bank API.  
   
—filename: wbdata.py    

### Reference of supported indicators  
```
def get_countries()  
  
def get_indicators()  
  
def get_commodities()  

```

### Downloading data

```
def create_predictors_df(country_lst=None, indicator_lst=None, yymm=None, outfile='./worldbank/gem.csv')

Download 40 economic indicators from the world bank  
Parameters:  



def create_commodities_df(commodity_lst=None, indicator_lst=None, yymm=None, outfile='./worldbank/gem.csv')

Download 11 commodities by default  
Parameters:  

```

<<<<<<< HEAD
## Electricity Data

The Energy Information Administration provides a single file, which can be downloaded by hand:  http://www.eia.gov/totalenergy/data/browser/xls.cfm?tbl=T07.01
=======
## Electricity data
The Energy Information Administration provides a single file, which can be downloaded by hand:

URL = http://www.eia.gov/totalenergy/data/browser/xls.cfm?tbl=T07.01
>>>>>>> origin/master

## Precipitation data

<<<<<<< HEAD
URL = http://www.nber.org/cycles.html

The module downloads the page, parses it, and outputs a CSV file of the start and end dates.

### Functions

```
create_output_dir():  Creates the output directory if it does not already exist.

get_page(url):  Given a URL, downloads that page and creates a BeautifulSoup object.

process_page(soup):  Processes a BeautifulSoup object and returns lists of the recession start and end dates.

clean_dates(dates):  Takes in a list of dates in 'Month YYYY' format and switches them to YYYY—MM format.

build_array(clean_start, clean_end):  Takes lists of cleaned start and end dates and makes an array of them.

write_csv(array):  Writes a CSV file from the given array.
```
=======
## Recessions data
>>>>>>> origin/master

## Temperature data





# Data analysis module



<<<<<<< HEAD
—filename: code/analysis_and_plotting/graph_builder.py

### Functions

```
plot_a_lot(df,filename):  Plots a lot of plots in one single figure.

build_plot(dates,values,label):  Generates a single plot.

plot_plots(predictors):  Breaks predictors dataframe into chunks of many columns and generates one plot for each chunk.
```
=======
# Graphing module
>>>>>>> origin/master


This module produces a predictive plot from a dataframe of actual and predicted prices.

—filename: code/analysis_and_plotting/plot_pred.py

### Functions

```
build_plot(df):  Given a dataframe of dates, actual prices, and predicted prices, builds a time-series plot.
```

# Reporting module
This module creates report  
  
filename: reporting.py  

```
class Report

Parameters:

Methods:
  set_title()

  insert_graph()

  insert_table()

  generate_pdf()
```



```{r engine='python', highlight=TRUE}
print('Hello, world')
```
